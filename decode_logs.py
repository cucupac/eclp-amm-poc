from eth_abi import abi
from eth_utils import decode_hex

# log_data = "0x0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000029881d0c1ebbdd0b2f000000000000000000000000000000000000000000000029881d0c1ebbdd0b2b00000000000000000000000000000000000000000000003ade7432a41d5c778800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000089d159fc1f1f611583dd000000000000000000000000000000000000000000009ebd2af4d46583f3b2d3"
# log_data = "0x00000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000365c06ee96a6f826fa0000000000000000000000000000000000000000000000365c06ee96a6f826f600000000000000000000000000000000000000000000003633c4c37bd91fe2e0000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000efe93a10f3ad8846700000000000000000000000000000000000000000000000a63fa632758c93f7cb35"
log_data = "0x0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000034fd6d857dfccb3b5b000000000000000000000000000000000000000000000034fd6d857dfccb3b57000000000000000000000000000000000000000000000036341ab85dad238add000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000e55c5cba01e29d16f00000000000000000000000000000000000000000000000a690d550b410c3e54c31"

log_data_bytes = decode_hex(log_data[2:])

decodedABI = abi.decode(["uint256[]", "(uint256,uint256)", "uint256"], log_data_bytes)

balances, (invariant_x, invariant_y), amount = decodedABI

print("Balances:", balances)
print("Invariant:", {"x": invariant_x, "y": invariant_y})
print("Amount:", amount)
